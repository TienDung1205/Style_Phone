extends ../../layouts/default
include ../../mixins/alert.pug

block main
  +alert-success(3000)
  +alert-error(5000)

  h1(class="mb-4") #{race.tenChang}

  .card.mb-3
    .card-body
      p Ngày đua: #{new Date(race.ngayDua).toLocaleDateString('vi-VN')}
      p Trạng thái: 
        if race.status === 'active'
          span.badge.badge-success Hoạt động
        else
          span.badge.badge-danger Dừng hoạt động

  .card
    .card-header Danh sách tay đua đã đăng ký
    .card-body
      if racers.length
        table.table.table-hover.table-sm
          thead
            tr
              th STT
              th Họ tên
              th Quốc tịch
              th Loại xe
              th Đội đua
          tbody
            each racer, index in racers
              tr
                td #{index + 1}
                td #{racer.hoTen}
                td #{racer.quocTich || 'Chưa rõ'}
                td #{racer.loaiXe || 'Chưa rõ'}
                td #{racer.doiDuaId && racer.doiDuaId.tenDoi ? racer.doiDuaId.tenDoi : 'Không rõ'}
      else
        p.text-muted Không có tay đua nào đăng ký
  
  hr
  a(
    href=`${prefixAdmin}/races/register/${race._id}`
    class="btn btn-warning btn-sm mr-5"
    style="float: right;"
  ) Đăng ký thi đấu
